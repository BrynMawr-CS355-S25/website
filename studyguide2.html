<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Study Guide: OS Exam II</title>
<link rel="stylesheet" href="style/cs21.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_study_guide_os_exam_ii">Study Guide: OS Exam II</a></li>
<li><a href="#_tanenbaum">Tanenbaum</a></li>
<li><a href="#_additional_practice">Additional practice</a>
<ul class="sectlevel2">
<li><a href="#_programming_with_pointers">Programming with pointers</a></li>
<li><a href="#_memory">Memory</a></li>
<li><a href="#_files">Files</a></li>
<li><a href="#_io">IO</a></li>
<li><a href="#_security">Security</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_study_guide_os_exam_ii">Study Guide: OS Exam II</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Exams are closed book. You can bring one written cheat sheet. 90 minutes in class.</p>
</div>
<div class="paragraph">
<p>Topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tanenbaum Chapters 3,4,5,9</p>
</li>
<li>
<p>Programming with pointer arithmetic; Working with binary files and formats.</p>
</li>
<li>
<p>Memory: Strategies for loading processes into memory, TLB, virtual memory, paging algorithms</p>
</li>
<li>
<p>Files: File system features, such as backups, consistency, and journaling. Methods for storing files/directories and managing free space (inodes, FAT tables, etc)</p>
</li>
<li>
<p>I/O: I/O software layers, drivers, disks, keyboard/mouse input, windows systems</p>
</li>
<li>
<p>Security: Terminology, buffer exploits, basic cryptography, malware, defenses</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tanenbaum">Tanenbaum</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Chapter 3: 4, 5, 6, 7, 11, 15, 17, 20, 28, 30, 33, 36, 38, 47</p>
</li>
<li>
<p>Chapter 4: 20, 21, 24, 28, 30, 40, 41</p>
</li>
<li>
<p>Chapter 5: 5, 10, 13, 14, 16</p>
</li>
<li>
<p>Chapter 9: 1, 6, 7, 8, 9, 19, 28, 29, 38, 39, 40, 49, 50</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_practice">Additional practice</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_programming_with_pointers">Programming with pointers</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>For each of the following variables, say whether its a pointer or not</p>
<div class="ulist">
<ul>
<li>
<p><code>char buffer[128];</code></p>
</li>
<li>
<p><code>char* a = NULL;</code></p>
</li>
<li>
<p><code>const char* message = "hello";</code></p>
</li>
<li>
<p><code>char a;</code></p>
</li>
<li>
<p><code>struct mystery* m = malloc(sizeof(struct mystery));</code></p>
</li>
<li>
<p><code>struct mystery** m = malloc(sizeof(struct mystery*)*10);</code></p>
</li>
<li>
<p><code>argv[0]</code> where argv is a list of command line arguments passed to main</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the following code, indicate which casts from void* are safe.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>#include &lt;stdio.h&gt;

int main()
{
  void* generic = NULL;
  int a = 3;
  double b = 4.5;
  generic = &amp;a;
  generic = &amp;b;

  printf("test %f\n", *generic);
  double* double_ptr = (double *) generic;
  printf("test %f\n", *double_ptr);

  int* int_ptr = (int *) generic;
  printf("test %d\n", *int_ptr);

  generic = &amp;a;

  double* double_ptr = (double *) generic;
  printf("test %f\n", *double_ptr);

  int* int_ptr = (int *) generic;
  printf("test %d\n", *int_ptr);

  return 0;
}</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Draw the stack for the following code.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>int main()
{
  char vals[3] = {'h','I','\0'};
  char* valptr = vals;
  char v1 = vals[2];
  char* v1ptr = valptr + 2;
  char v2 = *v1ptr;
  printf("%c %c\n", v1, v2);
  // Draw stack here
  for (int i = 0; i &lt; 3; i++) {
    printf("%c\n", vals[i]);
  }
  for (char* ptr = vals; ptr &lt; vals+3; ptr++) {
    printf("%p %c\n", ptr, *ptr);
  }
}</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Draw the stack diagram for the following code</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>struct chunk {
  int size;
  struct chunk *next;
};
int main() {
  int size = sizeof(int) * 5;
  void *memory = malloc(size + sizeof(struct chunk));
  if (memory == NULL) {
    return 1;
  }
  struct chunk *cnk = (struct chunk*) memory;
  cnk-&gt;size = size;
  void* data = (void*) (cnk + 1);
  int* array = (int*) data;
  for (int i = 0; i &lt; 5; i++) {
    array[i] = i;
  }</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Suppose the address of x is 0x4c568000. For each of the following expressions, give the new address of x;</p>
<div class="ulist">
<ul>
<li>
<p><code>int* x = &amp;a; x++;</code></p>
</li>
<li>
<p>`char* x = &amp;c; x--
*</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>struct m {
    int q;
    char buff[4];
};
struct m* x = &amp;data;
x+=2;</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Write code that reads in a binary file with the following specification:</p>
<div class="ulist">
<ul>
<li>
<p>The first 4 bytes is an integer that contains the size of the file</p>
</li>
<li>
<p>The second 16 bytes is a character field containing the Author</p>
</li>
<li>
<p>The next three values are unsigned integers that contain a month, day, and year</p>
</li>
<li>
<p>The remaining N bytes store textural data, terminated with the null character.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_memory">Memory</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What is the memory hierarchy and how does it aid performance?</p>
</li>
<li>
<p>Name 3 types of secondary storage.</p>
</li>
<li>
<p>Name 3 types of primary storage.</p>
</li>
<li>
<p>How do primary storage and secondary storage differ in terms of their characteristics?</p>
</li>
<li>
<p>How does the OS abstract memory to processes? How do these abstractions aid users?</p>
</li>
<li>
<p>Name some advantages and disadvantages of a simple process memory model in which the entire process is loaded contiguously in memory?</p>
</li>
<li>
<p>What is virtual memory? How are virtual addresses mapped to physical addresses?</p>
</li>
<li>
<p>Suppose we are using a 10K blocksize. Give the bitmap that represents the free blocks in memory.</p>
<div class="imageblock">
<div class="content">
<img src="img/memory.png" alt="memory" width="100px">
</div>
</div>
</li>
<li>
<p>Suppose we are using a 10K blocksize. Give the linked list that represents the free blocks in memory.  Assume each node in the linked list contains the process ID, or H if it a hole, a start location, a size, and a pointer to the next record.</p>
<div class="imageblock">
<div class="content">
<img src="img/memory.png" alt="memory" width="100px">
</div>
</div>
</li>
<li>
<p>Fill in the following figure with the bitmap and linked list that corresponds to the given memory block.</p>
<div class="imageblock">
<div class="content">
<img src="img/memory-free.png" alt="memory free" width="600px">
</div>
</div>
</li>
<li>
<p>Suppose we have processes in memory as follows. Suppose a new process requests 15K, which hole should we use if we were using a strategy of best fit, worst fit, and first fit?</p>
<div class="imageblock">
<div class="content">
<img src="img/memory-free.png" alt="memory free" width="600px">
</div>
</div>
</li>
<li>
<p>Suppose we are using bitmaps to manage free space for a 1 GB disk. How big must the bitmap be if we use 4 KB blocks? What about if we use 16 KB blocks? What is the disadvantage of using larger blocks?</p>
</li>
<li>
<p>Suppose we are using linked lists to manage free space for a 1 GB disk. How much additional space do we need if we use 4 KB blocks? What about if we use 16 KB blocks?</p>
</li>
<li>
<p>What is the memory mapping unit (MMU)?</p>
</li>
<li>
<p>What is a page? What is a page frame?</p>
</li>
<li>
<p>What is paging? What is a page fault?</p>
</li>
<li>
<p>Suppose we have the following specifications: 16-bit addresses, 32 KB of physical memory, and 4KB page sizes.</p>
<div class="ulist">
<ul>
<li>
<p>What is the possible range of virtual addresses?</p>
</li>
<li>
<p>How many pages do we have?</p>
</li>
<li>
<p>How many page frames do we have?</p>
</li>
</ul>
</div>
</li>
<li>
<p>Compute physical addresses for the virtual addresses using the commands below.</p>
<div class="imageblock">
<div class="content">
<img src="img/paging.png" alt="paging" width="600px">
</div>
</div>
</li>
<li>
<p>Suppose we have 4 KB pages 16-bit addresses. Also suppose our page table looks as follows. Convert the address 0x2004.</p>
<div class="imageblock">
<div class="content">
<img src="img/paging-2.png" alt="paging 2" width="200px">
</div>
</div>
</li>
<li>
<p>What is the translation lookaside buffer? What is its purpose?</p>
</li>
<li>
<p>Suppose we have 32-bit addresses, 4 KB page sizes, and the a two-level page table. The first 10 bits are an index into the first page table. The next 10 bits are an index into the second page table. Compute the indices into the page tables and offset for the following addresses:</p>
<div class="ulist">
<ul>
<li>
<p>0x00403004</p>
</li>
<li>
<p>0x00c0500a</p>
</li>
</ul>
</div>
</li>
<li>
<p>What is the advantage of multi-level page tables? What about inverted page tables?</p>
</li>
<li>
<p>What would the optimal page replacement algorithm be in a perfect world?</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_files">Files</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>What is a file?</p>
</li>
<li>
<p>What is a file system?</p>
</li>
<li>
<p>Give some examples of file attributes?</p>
</li>
<li>
<p>Give two different designs for storing file attributes in a file system.</p>
</li>
<li>
<p>Give two possible designs for managing free space within a file system.</p>
</li>
<li>
<p>How does the block size for files possibly affect fragmentation?</p>
</li>
<li>
<p>What is the root directory? the current working directory?</p>
</li>
<li>
<p>What is the difference between absolute and relative paths?</p>
</li>
<li>
<p>Give a possible file system design for a system that has a single-level directory system.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Explain how multiple users could be supported in a single-level file system.</p>
</li>
</ol>
</div>
</li>
<li>
<p>What is a symbolic link?</p>
</li>
<li>
<p>Describe a possible file system design that supports symbolic links.</p>
</li>
<li>
<p>Describe the process of booting a computer.</p>
</li>
<li>
<p>What is the Master Boot Record (MBR)</p>
</li>
<li>
<p>What is a partition?</p>
</li>
<li>
<p>Define internal versus external fragmentation.</p>
</li>
<li>
<p>List 4 goals of file system design.</p>
</li>
<li>
<p>Consider the following set of files: A has 2 blocks. B has 5 blocks. C has 1 block. Assume they are stored on a system with 4 KB block sizes. Draw how we would store the files</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>using contiguous allocation</p>
</li>
<li>
<p>using linked lists having nodes stored with each block</p>
</li>
<li>
<p>using a file allocation table (FAT)</p>
</li>
<li>
<p>using inodes</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_io">IO</h3>

</div>
<div class="sect2">
<h3 id="_security">Security</h3>

</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-04-25 13:37:04 -0400
</div>
</div>
</body>
</html>